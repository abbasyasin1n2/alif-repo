
{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="animate__animated animate__fadeIn">
    <h2 class="header">Dashboard</h2>
    <p class="flow-text">Welcome, {{ current_user.username }}!</p>
</div>

<div class="row">
    <div class="col s12 m6 l3">
        <div class="summary-card animate__animated animate__fadeInUp">
            <div class="card-icon"><i class="ti ti-users"></i></div>
            <div class="card-content">
                <p class="category">Total Users</p>
                <h4 class="title">{{ stats.total_users or 0 }}</h4>
            </div>
        </div>
    </div>
    <div class="col s12 m6 l3">
        <div class="summary-card animate__animated animate__fadeInUp" style="animation-delay: 0.1s;">
            <div class="card-icon"><i class="ti ti-box"></i></div>
            <div class="card-content">
                <p class="category">Total Products</p>
                <h4 class="title">{{ stats.total_products or 0 }}</h4>
            </div>
        </div>
    </div>
    <div class="col s12 m6 l3">
        <div class="summary-card animate__animated animate__fadeInUp" style="animation-delay: 0.2s;">
            <div class="card-icon"><i class="ti ti-truck-delivery"></i></div>
            <div class="card-content">
                <p class="category">Total Suppliers</p>
                <h4 class="title">{{ stats.total_suppliers or 0 }}</h4>
            </div>
        </div>
    </div>
    <div class="col s12 m6 l3">
        <div class="summary-card animate__animated animate__fadeInUp" style="animation-delay: 0.3s;">
            <div class="card-icon"><i class="ti ti-activity"></i></div>
            <div class="card-content">
                <p class="category">Recent Activity</p>
                <h4 class="title">0</h4>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col s12 m6">
        <div class="card-panel-new red animate__animated animate__fadeInLeft">
            <h5><i class="ti ti-alert-triangle left"></i>Expired Batches</h5>
            <div class="collection">
                {% for batch in expired_batches %}
                    <a href="#!" class="collection-item">{{ batch.product_name }} - Batch #{{ batch.batch_number }} <span class="right">{{ batch.expiration_date }}</span></a>
                {% else %}
                    <a href="#!" class="collection-item">No expired batches.</a>
                {% endfor %}
            </div>
        </div>
    </div>
    <div class="col s12 m6">
        <div class="card-panel-new orange animate__animated animate__fadeInRight">
            <h5><i class="ti ti-bell-ringing left"></i>Expiring Soon (7 Days)</h5>
            <div class="collection">
                {% for batch in soon_to_expire_batches %}
                     <a href="#!" class="collection-item">{{ batch.product_name }} - Batch #{{ batch.batch_number }} <span class="right">{{ batch.expiration_date }}</span></a>
                {% else %}
                    <a href="#!" class="collection-item">No batches expiring soon.</a>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col s12">
        <div class="card-panel-new-actions animate__animated animate__fadeInUp">
            <span class="card-title">Quick Actions</span>
            <div class="actions-container">
                <a href="{{ url_for('inventory.add_product_route') }}" class="btn-large waves-effect waves-light action-btn"><i class="ti ti-plus left"></i>Add Product</a>
                <a href="{{ url_for('inventory.add_supplier_route') }}" class="btn-large waves-effect waves-light action-btn"><i class="ti ti-plus left"></i>Add Supplier</a>
                <a href="{{ url_for('inventory.add_batch_route') }}" class="btn-large waves-effect waves-light action-btn"><i class="ti ti-plus left"></i>Add Batch</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
